(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{364:function(s,t,a){"use strict";a.r(t);var n=a(44),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"为什么要规范-git-提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要规范-git-提交"}},[s._v("#")]),s._v(" 为什么要规范 Git 提交")]),s._v(" "),a("p",[s._v("好的提交记录，会将每次提交内容的范围，内容，以及涉及到的 bug 都能清晰的展示出来，且格式一致，便于查找找提交记录，对查看代码提交记录或者审核的人更友好，能够更好地了解项目的生命周期以及中间出现的问题。")]),s._v(" "),a("p",[s._v("配置 Git 提交规范需要使用到以下依赖：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@commitlint/cli"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^12.1.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@commitlint/config-conventional"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^12.1.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commitizen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.2.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commitlint-config-cz"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.13.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cz-conventional-changelog"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.3.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cz-customizable"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.3.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.0.0"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("版本不需要和示例完全一致！")]),s._v(" "),a("p",[s._v("各个依赖的用途如下：")]),s._v(" "),a("ol",[a("li",[s._v("@commitlint/cli：校验提交信息的命令行工具")]),s._v(" "),a("li",[s._v("@commitlint/config-conventional：社区定义的提交规范")]),s._v(" "),a("li",[s._v("commitizen：Commitizen 是一个帮助撰写规范 commit messages 的工具")]),s._v(" "),a("li",[s._v("commitlint-config-cz：用于自定义提交格式")]),s._v(" "),a("li",[s._v("cz-conventional-changelog：适配器，用来提供约定提交格式，不同的需求，可以使用不同的适配器")]),s._v(" "),a("li",[s._v("cz-customizable：自定义提交规范 提示文案")]),s._v(" "),a("li",[s._v("husky： husky是一个Git Hook工具，用来为 git 客户端增加 hook 的工具。")])]),s._v(" "),a("h1",{attrs:{id:"配置-git-提交规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-git-提交规范"}},[s._v("#")]),s._v(" 配置 Git 提交规范")]),s._v(" "),a("h2",{attrs:{id:"配置安装-commitizen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置安装-commitizen"}},[s._v("#")]),s._v(" 配置安装 commitizen")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i -D commitizen cz-conventional-changelog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("根目录新建 "),a("code",[s._v(".czrc")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"path":"cz-customizable"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对package.json文件添加如下配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"scripts":{\n  commit:"git-cz"\n},\n"config": {\n  "cz-customizable": {\n    "config": ".cz-config.js"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"配置安装-husky"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置安装-husky"}},[s._v("#")]),s._v(" 配置安装 husky")]),s._v(" "),a("p",[s._v("husky4.0 和 husky6.0 的版本差异较大，配置方式也不同")]),s._v(" "),a("p",[s._v("husky6.0 配置方式")]),s._v(" "),a("p",[s._v("1、安装并初始化husky")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npx husky-init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2、启用 Git 挂钩")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npx husky install\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"自定义规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义规范"}},[s._v("#")]),s._v(" 自定义规范")]),s._v(" "),a("p",[s._v("首先下载自定义规范约束的包替换第三方规范。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i -D commitlint-config-cz cz-customizable\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在项目根目录创建.cz-config.js，这个文件里自定义规范")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n\ttypes: [\n\t\t{ value: 'init', name: 'init:     初始提交' },\n\t\t{ value: 'feat', name: 'feat:     增加新功能' },\n\t\t{ value: 'fix', name: 'fix:      修复bug' },\n\t\t{ value: 'ui', name: 'ui:       更新UI' },\n\t\t{ value: 'refactor', name: 'refactor: 代码重构' },\n\t\t{ value: 'release', name: 'release:  发布' },\n\t\t{ value: 'deploy', name: 'deploy:   部署' },\n\t\t{ value: 'docs', name: 'docs:     修改文档' },\n\t\t{ value: 'test', name: 'test:     增删测试' },\n\t\t{ value: 'chore', name: 'chore:    更改配置文件' },\n\t\t{ value: 'style', name: 'style:    样式修改不影响逻辑' },\n\t\t{ value: 'revert', name: 'revert:   版本回退' },\n\t\t{ value: 'add', name: 'add:      添加依赖' },\n\t\t{ value: 'minus', name: 'minus:    版本回退' },\n\t\t{ value: 'del', name: 'del:      删除代码/文件' }\n\t],\n\tscopes: [\n\t\t{ name: 'components' },\n\t\t{ name: 'utils' },\n\t\t{ name: 'styles' },\n\t\t{ name: 'deps' },\n\t\t{ name: 'other' }\n\t],\n\tmessages: {\n\t\ttype: '选择更改类型:\\n',\n\t\t// 如果allowcustomscopes为true，则使用\n\t\tscope: '选择一个 scope（可选）：\\n',\n\t\tcustomScope: '请输入自定义的 scope：',\n\t\tsubject: '简短描述:\\n',\n\t\tbody: '详细描述. 使用\"|\"换行:\\n',\n\t\tbreaking: 'Breaking Changes列表:\\n',\n\t\tfooter: '关闭的issues列表. E.g.: #31, #34:\\n',\n\t\tconfirmCommit: '确认提交?'\n\t},\n\tallowCustomScopes: true,\n\tallowBreakingChanges: ['feat', 'fix']\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("p",[s._v("参考：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6962056746328129567",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6962056746328129567"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);